<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
 xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
 xmlns:f="http://xmlns.jcp.org/jsf/core"
 xmlns:h="http://xmlns.jcp.org/jsf/html"
 xmlns:p="http://primefaces.org/ui"
 xmlns:pe="http://primefaces.org/ui/extensions">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet library="css" name="ComSetting.css" />
        <title>Collateral Unauthorised Records</title>
    </h:head>
    
    <body>

<h:form enctype="multipart/form-data" id="AllExceptionReport">
    
               <p:growl id="growl" showDetail="true" life="3000" sticky="true"/>

        <h1>Collateral Unauthorised Records</h1>
        
<div class="SingleForm">

    <br/>
    
<p:remoteCommand name="updateMyDataTable" update="ReportTable" />


    <p:dataTable id="ReportTable" resizableColumns="true" rows="15" rowHover="true" paginator="true" showGridlines="true" stickyHeader="true"
                 paginatorPosition="bottom"
                 var="s"
                 styleClass="myLDRepay"
                 rowKey="#{s.recordId}"
                 emptyMessage="No records available"
                 rowIndexVar="r" 
                 rowStyleClass="#{r % 2 == 0 ? 'evenClass' : 'oddClass'}"
                 value="#{collateralExceptionReport.reportLists}">
        
		     <f:facet name="header">
		         <h:outputText value="Collateral Unauthorised Records" />
		     </f:facet>
        <p:column style="font-size:8pt;border-color:white;" headerText="S/N">
            <h:outputText value="#{r + 1}"/>
        </p:column>
        <p:column style="font-size:8pt;border-color:white;" headerText="Record ID">
            <h:outputText value="#{s.recordId}"/>
        </p:column>
        <p:column style="font-size:8pt;border-color:white;" headerText="Collateral Type">
            <h:outputText value="#{s.field1}"/>
        </p:column>
        <p:column style="font-size:8pt;border-color:white;" headerText="Currency">
            <h:outputText value="#{s.field2}"/>
        </p:column>
        <p:column style="font-size:8pt;border-color:white;" headerText="Country">
            <h:outputText value="#{s.field3}"/>
        </p:column>
        <p:column style="font-size:8pt;border-color:white;" headerText="Amount">
            <h:outputText value="#{s.field4}"/>
        </p:column>
        <p:column style="font-size:8pt;border-color:white;" headerText="Value Date">
            <h:outputText value="#{s.field5}"/>
        </p:column>
        <p:column style="font-size:8pt;border-color:white;" headerText="Expiry Date">
            <h:outputText value="#{s.field6}"/>
        </p:column>
        <p:column style="font-size:8pt;border-color:white;" headerText="Description">
            <h:outputText value="#{s.field7}"/>
        </p:column>
        <p:column style="font-size:8pt;border-color:white;" headerText="Inputter">
            <h:outputText value="#{s.field8}"/>
        </p:column>
        <p:column style="font-size:8pt;border-color:white;" headerText="Inputter Time">
            <h:outputText value="#{s.field9}"/>
        </p:column>
        
        <p:column style="width:15px;border-color:white;text-align: center" exportable="false">
             <p:commandButton style="width:25px;height:25px;" update=":AllExceptionReport:growl" action="#{collateralExceptionReport.openDocument}" icon="pi pi-info-circle" title="View">
                 <f:setPropertyActionListener value="#{s.recordId}" target="#{collateralExceptionReport.selectedRecord}" />
            </p:commandButton>
        </p:column>
        
        <p:column style="width:15px;border-color:white;text-align: center" exportable="false">
            <p:commandButton style="width:25px;height:25px;" update=":AllExceptionReport:growl" action="#{collateralExceptionReport.openDocumentDel}" icon="pi pi-times" title="Delete">
                 <f:setPropertyActionListener value="#{s.recordId}" target="#{collateralExceptionReport.selectedRecord}" />
            </p:commandButton>
        </p:column>
            
    <p:column style="width:15px;border-color:white;text-align: center" exportable="false">
             <p:commandButton style="width:25px;height:25px;" update=":AllExceptionReport:growl" action="#{collateralExceptionReport.openDocumentAuth}" icon="pi pi-check-circle" title="Authorise">
                 <f:setPropertyActionListener value="#{s.recordId}" target="#{collateralExceptionReport.selectedRecord}" />
            </p:commandButton>
        </p:column>
        
<f:facet name="footer">
            <p:commandButton value="Export as csv" icon="pi pi-download" ajax="false" >
               <p:dataExporter type="csv" target="ReportTable" fileName="Collateral_Unauth_Report"/>
    </p:commandButton> 
        </f:facet>
    </p:dataTable>


</div>
        
</h:form>

 
    </body>
</html>




