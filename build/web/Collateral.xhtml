<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
 xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
 xmlns:f="http://xmlns.jcp.org/jsf/core"
 xmlns:h="http://xmlns.jcp.org/jsf/html"
 xmlns:p="http://primefaces.org/ui">

<h:head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <h:outputStylesheet library="css" name="ComSetting.css" />
    <title>Collateral Entry</title>
</h:head>

<body>
<h:form enctype="multipart/form-data" id="Collateral">

    <p:growl id="growl" showDetail="true" life="3000" sticky="true"/>

    <h1>New Collateral Entry</h1>

    <hr style="height:5px;border-width:0;color:white;background-color:gray"/>
    <p:outputLabel styleClass="GenEnrichTxtPageLoad" value="#{getGeneralFieldValues.newPageLoadSet}"/>

    <div class="SingleForm">
        <br/>
        <p:tabView multiViewState="true" id="tabViewMVS" styleClass="MyTabView">
            <p:tab title="Collateral Details">
                <div class="TabDiv">
                    <h:panelGrid columns="3" columnClasses="firstColumnPGrid,secondColumnPGrid,thirdColumnPGrid">

                        <p:outputLabel for="CollateralID" value="Collateral ID"/>
                        <p:inputText id="CollateralID" styleClass="RecordInputTxtID" size="25" required="true" readonly="true" value="#{ewCollateral.newCollateralID}"/>
                        <p:outputLabel/>

                        <p:outputLabel for="CollateralCIF" value="Customer ID"/>
                        <p:selectOneMenu id="CollateralCIF" class="GenSELTxtreqCustomer" value="" 
                                          panelStyle="width:470px;"
                                         var="p" filter="true" filterMatchMode="contains">
                            <f:selectItem itemLabel="Select Customer" itemValue="" />
                            <f:selectItems value="#{ewCollateral.soptionCustomers}" var="customerSelection" itemLabel="#{customerSelection.cxCnumber}" itemValue="#{customerSelection}"/>
                            <p:column><f:facet name="header">Customer Name</f:facet></p:column>
                            <p:column><f:facet name="header">Customer#</f:facet></p:column>
                            <p:column><f:facet name="header">Gender</f:facet></p:column>
                            <f:ajax listener="#{ewCollateral.newCollateralCIFselectValueChanged}" render="newCollateralCIFinputToBeUpdated"/>
                            <p:ajax event="valueChange" process="@this" listener="#{ewCollateral.newCollateralCIFselectValueChangedText}" update="CollateralID"/>
                        </p:selectOneMenu>
                        <p:outputLabel id="newCollateralCIFinputToBeUpdated" styleClass="GenEnrichTxt" value="#{ewCollateral.newCollateralCIFenrich}"/>

                        <p:outputLabel for="CollateralType" value="Collateral Type"/>
                        <p:selectOneMenu id="CollateralType" styleClass="GenSELTxtreq" required="true" value="#{ewCollateral.newCollateralTypeselection}">
                            <f:selectItem itemLabel="Select One" itemValue=""/>
                            <f:selectItems value="#{ewCollateral.newCollateralTypeoptions}" />
                            <f:ajax listener="#{ewCollateral.newCollateralTypeselectValueChanged}" render="newCollateralTypeinputToBeUpdated"/>
                        </p:selectOneMenu>
                        <p:outputLabel id="newCollateralTypeinputToBeUpdated" styleClass="GenEnrichTxt" value="#{ewCollateral.newCollateralTypeenrich}"/>

                        <p:outputLabel for="CollateralCountry" value="Country"/>
                        <p:selectOneMenu id="CollateralCountry" styleClass="GenSELTxtreq" required="true" value="#{ewCollateral.newCollateralCountryselection}">
                            <f:selectItem itemLabel="Select One" itemValue=""/>
                            <f:selectItems value="#{ewCollateral.newCollateralCountryoptions}" />
                            <f:ajax listener="#{ewCollateral.newCollateralCountryselectValueChanged}" render="newCollateralCountryinputToBeUpdated"/>
                        </p:selectOneMenu>
                        <p:outputLabel id="newCollateralCountryinputToBeUpdated" styleClass="GenEnrichTxt" value="#{ewCollateral.newCollateralCountryenrich}"/>

                        <p:outputLabel for="CollateralCCY" value="Currency"/>
                        <p:selectOneMenu id="CollateralCCY" styleClass="GenSELTxtreq" required="true" value="#{ewCollateral.newCollateralCCYselection}">
                            <f:selectItem itemLabel="Select One" itemValue=""/>
                            <f:selectItems value="#{ewCollateral.newCollateralCCYoptions}" />
                            <f:ajax listener="#{ewCollateral.newCollateralCCYselectValueChanged}" render="newCollateralCCYinputToBeUpdated"/>
                        </p:selectOneMenu>
                        <p:outputLabel id="newCollateralCCYinputToBeUpdated" styleClass="GenEnrichTxt" value="#{ewCollateral.newCollateralCCYenrich}"/>

                        <p:outputLabel for="CollateralValue" value="Value (Amount)"/>
                        <p:inputNumber id="CollateralValue" styleClass="GenInputNumReq" required="true" size="30" emptyValue="0" value="#{ewCollateral.newCollateralValue}" decimalPlaces="2"/>
                        <p:outputLabel/>

                        <p:outputLabel for="CollateralVDate" value="Value Date"/>
                        <p:calendar id="CollateralVDate" widgetVar="CollateralVDate" required="true" value="#{ewCollateral.newCollateralVDate}" styleClass="GenCALTxtreq" navigator="true" showOn="button"  readonlyInput="true" showButtonPanel="true" showWeek="true" pattern="yyyy-MMM-dd" yearRange="1000:9999" />
                        <p:commandButton value="Reset Date" onclick="PF('CollateralVDate').setDate(null)" type="button" icon="pi pi-undo"/>

                        <p:outputLabel for="CollateralEDate" value="Expiry Date"/>
                        <p:calendar id="CollateralEDate" widgetVar="CollateralEDate" required="true" value="#{ewCollateral.newCollateralEDate}" styleClass="GenCALTxtreq" navigator="true" showOn="button"  readonlyInput="true" showButtonPanel="true" showWeek="true" pattern="yyyy-MMM-dd" yearRange="1000:9999" />
                        <p:commandButton value="Reset Date" onclick="PF('CollateralEDate').setDate(null)" type="button" icon="pi pi-undo"/>

                        <p:outputLabel for="CollateralDescript" value="Description"/>
                        <p:inputText id="CollateralDescript" styleClass="GenInputTxtreq" size="40" maxlength="45" required="true" value="#{ewCollateral.newCollateralDescript}"/>
                        <p:outputLabel/>

                        <p:outputLabel for="Collateraladd" value="Address"/>
                        <p:inputText id="Collateraladd" styleClass="GenInputTxtreq" size="45" maxlength="45" required="true" value="#{ewCollateral.newCollateraladd}"/>
                        <p:outputLabel/>

                        <p:outputLabel for="Collprocessdate" value="Processing Date"/>
                        <p:inputText id="Collprocessdate" styleClass="GenInputTxtRight" size="30" required="true" readonly="true" value="#{ewCollateral.newCollprocessdate}"/>
                        <p:outputLabel/>

                    </h:panelGrid>     
                </div>
            </p:tab>

            <p:tab title="Document Image-1">
                <div class="TabDiv">
                    <h:panelGrid columns="1" columnClasses="firstColumnPGrid,secondColumnPGrid,thirdColumnPGrid">
                        <p:growl id="messages" showDetail="true" /> 
                        <p:fileUpload listener="#{ewCollateral.handleFileUpload}" mode="advanced" dragDropSupport="false" update="messages gimPhoto DocImageReference" sizeLimit="100000000" fileLimit="3000" accept=".gif,.jpg,.jpeg,.png" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
                    </h:panelGrid>

                    <br/>
                    <f:view>
                        <p:graphicImage id="gimPhoto" url="/resources/tmpImage/#{ewCollateral.newDocumentImage}" width="270" height="270"  />
                    </f:view>

                    <br/>

                    <p:outputLabel for="DocImageReference" value="Image Reference-1:"/>
                    <p:inputText id="DocImageReference" styleClass="GenInputTxtNoInput" size="70" readonly="true" value="#{ewCollateral.newDocImageReference}"/>
                    <p:outputLabel/>
                </div>
            </p:tab>

            <p:tab title="Document Image-2">
                <div class="TabDiv">
                    <h:panelGrid columns="1" columnClasses="firstColumnPGrid,secondColumnPGrid,thirdColumnPGrid">
                        <p:growl id="messages2" showDetail="true" /> 
                        <p:fileUpload listener="#{ewCollateral.handleFileUpload2}" mode="advanced" dragDropSupport="false" update="messages2 gimPhoto2 DocImageReference2" sizeLimit="100000000" fileLimit="3000" accept=".gif,.jpg,.jpeg,.png" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
                    </h:panelGrid>

                    <br/>
                    <f:view>
                        <p:graphicImage id="gimPhoto2" url="/resources/tmpImage/#{ewCollateral.newDocumentImage2}" width="270" height="270"  />
                    </f:view>

                    <br/>
                    <p:outputLabel for="DocImageReference2" value="Image Reference-2:"/>
                    <p:inputText id="DocImageReference2" styleClass="GenInputTxtNoInput" size="70" readonly="true" value="#{ewCollateral.newDocImageReference2}"/>
                    <p:outputLabel/>
                </div>
            </p:tab>

        </p:tabView>
    </div>
</h:form>
</body>
</html>
