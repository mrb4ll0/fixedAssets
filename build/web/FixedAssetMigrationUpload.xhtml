<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet library="css" name="ComSettingNew.css" />
        <title>Fixed Asset Migration Upload</title>
    </h:head>

    <h:body>
        <h:form enctype="multipart/form-data" id="uploadFixedAssetForm">
            <p:growl id="growl" showDetail="true" life="3000" sticky="true"/>
            <h1>Fixed Asset Migration Upload</h1>
            <hr style="height:5px;border-width:0;color:white;background-color:gray"/>

            <p:tabView id="tabViewMVS" styleClass="MyTabView">
                <p:tab title="Upload" id="bulkFixedAsset">
                    <div class="SingleForm">
                        <p:panel style="margin-top:10px; border: none; background: transparent; box-shadow: none;">
                            <p:fileUpload value="#{famUpload.uploadedFile}"
                                          mode="advanced"
                                          auto="true"
                                          dragDropSupport="false"
                                          label="Choose"
                                          update=":uploadFixedAssetForm:growl dataTable"
                                          styleClass="small-file-upload" />

                            <h:panelGroup id="dataTable">
                                <h:outputText value="No assets uploaded yet." 
                                              rendered="#{empty famUpload.fixedAssetMigration}"
                                              style="font-style: italic; color: gray;"/>

                                <p:dataTable 
                                    value="#{famUpload.fixedAssetMigration}"
                                    var="account"
                                    rendered="#{!empty famUpload.fixedAssetMigration}"
                                    rowIndexVar="r"
                                    rowStyleClass="#{r % 2 == 0 ? 'evenClass' : 'oddClass'}"
                                    resizableColumns="true"
                                    widgetVar="authorizedAccountsTable"
                                    paginator="true"
                                    paginatorPosition="bottom"
                                    rows="10"
                                    showGridlines="true"
                                    stickyHeader="true"
                                    styleClass="myLDRepay">

                                    <p:column headerText="S/N" style="font-size: 10pt; text-align: center;" width="50">
                                        <h:outputText value="#{r + 1}" />
                                    </p:column>

                                    <p:column headerText="Initial Purchase Date" style="font-size: 10pt;">
                                        <h:outputText value="#{account.initialPurchaseDate}">
                                            <f:convertDateTime pattern="dd-MM-yyyy" />
                                        </h:outputText>
                                    </p:column>

                                    <p:column headerText="Asset Name" style="font-size: 10pt;">
                                        <h:outputText value="#{account.assetName}" />
                                    </p:column>

                                    <p:column headerText="Initial Purchase Amount" style="font-size: 10pt; text-align: right;">
                                        <h:outputText value="#{account.initialPurchaseAmount}">
                                            <f:convertNumber type="currency" currencySymbol="â‚¦" />
                                        </h:outputText>
                                    </p:column>

                                    <p:column headerText="Initial Duration" style="font-size: 10pt; text-align: center;">
                                        <h:outputText value="#{account.initialDuration}" />
                                    </p:column>

                                    <p:column headerText="Branch" style="font-size: 10pt;">
                                        <h:outputText value="#{account.branch}" />
                                    </p:column>

                                    <p:column headerText="Category" style="font-size: 10pt;">
                                        <h:outputText value="#{account.category}" />
                                    </p:column>

                                    <p:column headerText="Current Duration" style="font-size: 10pt; text-align: center;">
                                        <h:outputText value="#{account.currentDuration}" />
                                    </p:column>

                                    <p:column headerText="Depreciation Start Date" style="font-size: 10pt;">
                                        <h:outputText value="#{account.depreciationStartDate}">
                                            <f:convertDateTime pattern="dd-MM-yyyy" />
                                        </h:outputText>
                                    </p:column>

                                </p:dataTable>
                            </h:panelGroup>
                        </p:panel>
                    </div>
                </p:tab>

                <p:tab title="Audit Section" id="auditTab">
                    <div class="TabDiv">
                        <h:panelGrid columns="3" columnClasses="firstColumnPGrid,secondColumnPGrid,thirdColumnPGrid">
                            <p:outputLabel for="AllRecordStatus" value="Record Status:" />
                            <p:inputText id="AllRecordStatus" styleClass="GenInputTxtNoInput" value="#{famUpload.allAuthRecStatus}" readonly="true" />
                            <p:outputLabel/>

                            <p:outputLabel for="AllInputterStatus" value="Inputter:" />
                            <p:inputText id="AllInputterStatus" styleClass="GenInputTxtNoInput" value="#{famUpload.allInputterStatus}" readonly="true" />
                            <p:outputLabel/>

                            <p:outputLabel for="AllInpRecStatus" value="Input Timing:" />
                            <p:inputText id="AllInpRecStatus" styleClass="GenInputTxtNoInput" value="#{famUpload.allInpRecStatus}" readonly="true" />
                            <p:outputLabel/>

                            <p:outputLabel for="AllAuthoriserStatus" value="Authoriser:" />
                            <p:inputText id="AllAuthoriserStatus" styleClass="GenInputTxtNoInput" value="#{famUpload.allAuthoriserStatus}" readonly="true" />
                            <p:outputLabel/>

                            <p:outputLabel for="AllAuthRecStatus" value="Authoriser Timing:" />
                            <p:inputText id="AllAuthRecStatus" styleClass="GenInputTxtNoInput" value="#{famUpload.allAuthRecStatus}" readonly="true" />
                            <p:outputLabel/>
                        </h:panelGrid>
                    </div>
                </p:tab>
            </p:tabView>

            <p:commandButton value="Commit"
                             action="#{famUpload.newFixedAssetMigrationBulkcheck}" 
                             class="rounded-button ui-button-success" 
                             update=":uploadFixedAssetForm:growl @(authorizedFixedAsset)" />
        </h:form>
    </h:body>
</html>
